{
  "rules_version": "1.0",
  "casting_category": "Bracket Casting",
  "default_material": "Generic Ferrous / Non-Ferrous",
  "rules": [
    {
      "rule_id": "R1",
      "title": "Visualize Casting in the Mold",
      "engineering_intent": "Ensure metal flow and solidification are feasible without isolated heavy masses.",
      "defect_risk": {
        "name": "Shrinkage Porosity / Cracks",
        "severity": "High"
      },
      "geometry_logic": {
        "check_isolated_masses": true,
        "min_connection_ratio": 0.7
      },
      "checklist_items": [
        {
          "check_id": "1.1",
          "text": "No isolated heavy sections without clear feeding paths"
        },
        {
          "check_id": "1.2",
          "text": "Section changes are visually traceable across views"
        },
        {
          "check_id": "1.3",
          "text": "Geometry allows clear mold fill and solidification understanding"
        }
      ],
      "ai_guidance": "Look for bulky regions connected by thin walls or necks that may solidify last and remain unfed.",
      "reference_images": {
        "correct": "rule_images/R1/correct/",
        "incorrect": "rule_images/R1/incorrect/"
      }
    },

    {
      "rule_id": "R2",
      "title": "Design for Soundness (Directional Solidification)",
      "engineering_intent": "Ensure progressive increase in section thickness toward feeding zones.",
      "defect_risk": {
        "name": "Internal Shrinkage Porosity",
        "severity": "High"
      },
      "geometry_logic": {
        "progressive_thickness_required": true,
        "reverse_thickness_gradient_allowed": false
      },
      "checklist_items": [
        {
          "check_id": "2.1",
          "text": "Wall thickness increases progressively toward heavy sections"
        },
        {
          "check_id": "2.2",
          "text": "No reverse taper that blocks feeding"
        },
        {
          "check_id": "2.3",
          "text": "Heaviest sections are not isolated from potential riser locations"
        }
      ],
      "ai_guidance": "Check whether thinner regions would freeze before thicker ones without a feeding source.",
      "reference_images": {
        "correct": "rule_images/R2/correct/",
        "incorrect": "rule_images/R2/incorrect/"
      }
    },

    {
      "rule_id": "R3",
      "title": "Avoid Sharp Corners and Angles",
      "engineering_intent": "Prevent localized heat concentration and stress risers.",
      "defect_risk": {
        "name": "Hot Spots / Cracking",
        "severity": "Medium"
      },
      "geometry_logic": {
        "min_internal_radius_ratio": 0.25,
        "acute_angle_threshold_deg": 90
      },
      "checklist_items": [
        {
          "check_id": "3.1",
          "text": "Internal corners include fillets"
        },
        {
          "check_id": "3.2",
          "text": "No acute internal angles creating hotspots"
        },
        {
          "check_id": "3.3",
          "text": "External edges are eased to avoid mold damage"
        }
      ],
      "ai_guidance": "Focus on re-entrant corners at rib-wall and wall-wall junctions.",
      "reference_images": {
        "correct": "rule_images/R3/correct/",
        "incorrect": "rule_images/R3/incorrect/"
      }
    },

    {
      "rule_id": "R4",
      "title": "Minimize the Number of Sections at Junctions",
      "engineering_intent": "Avoid excessive metal accumulation at multi-section intersections.",
      "defect_risk": {
        "name": "Hot Spots / Distortion",
        "severity": "Medium"
      },
      "geometry_logic": {
        "max_sections_per_junction": 2,
        "cored_relief_permitted": true
      },
      "checklist_items": [
        {
          "check_id": "4.1",
          "text": "No more than two sections intersect at a single junction"
        },
        {
          "check_id": "4.2",
          "text": "Junctions are staggered or relieved where needed"
        },
        {
          "check_id": "4.3",
          "text": "Cored holes used to reduce mass at unavoidable intersections"
        }
      ],
      "ai_guidance": "Identify T, X, or star junctions and assess cooling imbalance.",
      "reference_images": {
        "correct": "rule_images/R4/correct/",
        "incorrect": "rule_images/R4/incorrect/"
      }
    },

    {
      "rule_id": "R5",
      "title": "Employ Uniform Wall Sections",
      "engineering_intent": "Promote even cooling and reduce feeding-related defects.",
      "defect_risk": {
        "name": "Shrinkage Voids",
        "severity": "High"
      },
      "geometry_logic": {
        "max_thickness_variation_ratio": 1.3
      },
      "checklist_items": [
        {
          "check_id": "5.1",
          "text": "Wall thickness is largely uniform throughout the casting"
        },
        {
          "check_id": "5.2",
          "text": "Thick sections are cored or relieved where possible"
        },
        {
          "check_id": "5.3",
          "text": "Ribs are used instead of wall thickening"
        }
      ],
      "ai_guidance": "Compare adjacent wall thicknesses and look for sudden mass buildup.",
      "reference_images": {
        "correct": "rule_images/R5/correct/",
        "incorrect": "rule_images/R5/incorrect/"
      }
    },

    {
      "rule_id": "R6",
      "title": "Correctly Proportion Inner Walls",
      "engineering_intent": "Prevent slow-cooling inner masses from dominating solidification.",
      "defect_risk": {
        "name": "Internal Porosity / Weak Zones",
        "severity": "Medium"
      },
      "geometry_logic": {
        "inner_to_outer_wall_ratio": 0.9
      },
      "checklist_items": [
        {
          "check_id": "6.1",
          "text": "Inner walls are thinner than outer walls"
        },
        {
          "check_id": "6.2",
          "text": "No enclosed heavy inner sections"
        }
      ],
      "ai_guidance": "Pay special attention to cored regions and enclosed cavities.",
      "reference_images": {
        "correct": "rule_images/R6/correct/",
        "incorrect": "rule_images/R6/incorrect/"
      }
    },

    {
      "rule_id": "R7",
      "title": "Fillet All Sharp Angles",
      "engineering_intent": "Reduce stress concentration and improve mold filling.",
      "defect_risk": {
        "name": "Cracks / Hot Spots",
        "severity": "Medium"
      },
      "geometry_logic": {
        "fillet_required": true,
        "max_fillet_radius_ratio": 0.5
      },
      "checklist_items": [
        {
          "check_id": "7.1",
          "text": "All re-entrant corners are filleted"
        },
        {
          "check_id": "7.2",
          "text": "Fillet size is appropriate (not excessively large)"
        }
      ],
      "ai_guidance": "Look for stress-prone corners, especially at load-bearing regions.",
      "reference_images": {
        "correct": "rule_images/R7/correct/",
        "incorrect": "rule_images/R7/incorrect/"
      }
    },

    {
      "rule_id": "R8",
      "title": "Avoid Abrupt Section Changes",
      "engineering_intent": "Ensure smooth thermal gradients during solidification.",
      "defect_risk": {
        "name": "Shrinkage / Stress Concentration",
        "severity": "High"
      },
      "geometry_logic": {
        "max_thickness_ratio": 2.0,
        "max_taper_ratio": 4.0
      },
      "checklist_items": [
        {
          "check_id": "8.1",
          "text": "Thickness changes are gradual and blended"
        },
        {
          "check_id": "8.2",
          "text": "No abrupt step changes in wall thickness"
        }
      ],
      "ai_guidance": "Scan transitions between thin and thick regions.",
      "reference_images": {
        "correct": "rule_images/R8/correct/",
        "incorrect": "rule_images/R8/incorrect/"
      }
    },

    {
      "rule_id": "R9",
      "title": "Optimize Ribs and Brackets",
      "engineering_intent": "Improve stiffness without creating hotspots.",
      "defect_risk": {
        "name": "Cracking / Hot Spots",
        "severity": "Medium"
      },
      "geometry_logic": {
        "rib_to_wall_ratio": 0.8,
        "cross_ribbing_allowed": false
      },
      "checklist_items": [
        {
          "check_id": "9.1",
          "text": "Ribs are thinner than adjoining walls"
        },
        {
          "check_id": "9.2",
          "text": "No cross-ribbing creating metal accumulation"
        },
        {
          "check_id": "9.3",
          "text": "Ribs are deeper rather than thicker"
        }
      ],
      "ai_guidance": "Evaluate rib intersections and spacing.",
      "reference_images": {
        "correct": "rule_images/R9/correct/",
        "incorrect": "rule_images/R9/incorrect/"
      }
    },

    {
      "rule_id": "R10",
      "title": "Avoid Excessive Bosses, Lugs, and Pads",
      "engineering_intent": "Prevent localized heavy masses that are hard to feed.",
      "defect_risk": {
        "name": "Hot Spots / Open Grain",
        "severity": "High"
      },
      "geometry_logic": {
        "boss_thickness_less_than_wall": true,
        "isolated_boss_allowed": false
      },
      "checklist_items": [
        {
          "check_id": "10.1",
          "text": "Bosses are blended smoothly into walls"
        },
        {
          "check_id": "10.2",
          "text": "No isolated pads or lugs creating heavy sections"
        },
        {
          "check_id": "10.3",
          "text": "Boss walls are of uniform thickness"
        }
      ],
      "ai_guidance": "Inspect mounting and fastening regions closely.",
      "reference_images": {
        "correct": "rule_images/R10/correct/",
        "incorrect": "rule_images/R10/incorrect/"
      }
    }
  ]
}
